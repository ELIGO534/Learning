<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction History</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

    <!-- Header -->
    <header class="bg-green-500 text-white p-4 text-center">
        <h1 class="text-xl font-bold">Transaction History</h1>
    </header>

    <!-- Transactions Table -->
    <div class="container mx-auto p-6">
        <div class="bg-white shadow-md rounded-lg p-4">
            <h2 class="text-lg font-semibold text-gray-700 mb-4">Your Transactions</h2>

            <table class="min-w-full bg-white border border-gray-200 rounded-lg">
                <thead>
                    <tr class="bg-green-500 text-white">
                        <th class="py-2 px-4 border-b">Date</th> <!-- New Date Column -->
                        <th class="py-2 px-4 border-b">Withdrawal Details</th> <!-- Withdrawal Details Column -->
                        <th class="py-2 px-4 border-b">Account No.</th> <!-- Account Number Column -->
                        <th class="py-2 px-4 border-b">Transaction ID</th> <!-- Transaction ID Column -->
                        <th class="py-2 px-4 border-b">Amount (₹)</th>
                        <th class="py-2 px-4 border-b">Payment Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for withdrawl in withdrawals %}
                    <tr class="text-center border-b">
                        <!-- Date Column -->
                        <td class="py-2 px-4">
                            {{ withdrawl.created_at|date:"d M Y, H:i" }} <!-- Format the date -->
                        </td>
                        
                        <!-- Withdrawal Details Column -->
                        <td class="py-2 px-4">
                          Acc//Eligo//4583xxxxxx@ybl//{{ withdrawl.transaction_id }}//Acc
                        </td>

                        <!-- Account Number Column -->
                        <td class="py-2 px-4">
                          {{ withdrawl.account_number }} <!-- Display Account Number -->
                        </td>

                        <!-- Transaction ID Column -->
                        <td class="py-2 px-4">
                          {{ withdrawl.transaction_id }} <!-- Display Transaction ID -->
                        </td>

                        <!-- Amount Column -->
                        <td class="py-2 px-4 text-green-600 font-semibold">₹{{ withdrawl.amount }}</td> 

                        <!-- Payment Status Column -->
                        <td class="py-2 px-4">
    {% if withdrawl.payment_status == "Paid" %}
        <span class="text-green-500 font-semibold">Paid</span>
    {% elif withdrawl.payment_status == "Rejected" %}
        <span class="text-red-500 font-semibold">Rejected</span>
    {% else %}
        <span class="text-yellow-500 font-semibold">Pending</span>
    {% endif %}
</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="6" class="py-4 text-gray-500 text-center">No transactions found.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <!-- Need Help Link -->
<div class="text-center mt-4">
    <a href="/needhelp?" class="text-black text-sm hover:text-blue-500 underline transition duration-200">Need help?</a>
</div>

</body>
</html>
