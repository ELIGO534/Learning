{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Referral Program - EliGo</title>
  <meta name="description" content="Earn rewards by referring friends to EliGo's learning programs">
  
  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="{% static 'assets/img/favicon_io/apple-touch-icon.png' %}">
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'assets/img/favicon_io/favicon-32x32.png' %}">
  <link rel="icon" type="image/png" sizes="16x16" href="{% static 'assets/img/favicon_io/favicon-16x16.png' %}">
  <link rel="manifest" href="{% static 'assets/img/favicon_io/site.webmanifest' %}">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Vendor CSS -->
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet">

  <!-- Main CSS -->
  <link href="{% static 'assets/css/main.css' %}" rel="stylesheet">

  <style>
    :root {
      --primary: #4361EE;
      --primary-light: #EFF2FF;
      --secondary: #3A0CA3;
      --accent: #4CC9F0;
      --success: #10B981;
      --warning: #F59E0B;
      --danger: #EF4444;
      --dark: #1E1B4B;
      --light: #F9FAFB;
      --gray: #6B7280;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--light);
      color: var(--dark);
    }
    
    .referral-hero {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(67, 97, 238, 0.2);
    }
    
    .referral-steps {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .referral-step {
      position: relative;
      padding-left: 2.5rem;
    }
    
    .referral-step:before {
      content: "";
      position: absolute;
      left: 1rem;
      top: 0;
      height: 100%;
      width: 2px;
      background: var(--primary-light);
    }
    
    .referral-step:last-child:before {
      display: none;
    }
    
    .step-number {
      position: absolute;
      left: 0;
      top: 0;
      width: 2rem;
      height: 2rem;
      background: var(--primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
    }
    
    .referral-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: none;
      border-radius: 12px;
      overflow: hidden;
    }
    
    .referral-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }
    
    .referral-stats {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary);
    }
    
    .copy-link {
      background: var(--primary-light);
      border-radius: 8px;
      padding: 0.75rem;
      display: flex;
      align-items: center;
    }
    
    .copy-link input {
      border: none;
      background: transparent;
      flex: 1;
      outline: none;
    }
    
    .copy-btn {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 6px;
      padding: 0.5rem 1rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .copy-btn:hover {
      background: var(--secondary);
    }
    
    .referral-table {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .referral-table thead {
      background: var(--primary);
      color: white;
    }
    
    .referral-table th {
      padding: 1rem;
      font-weight: 600;
    }
    
    .referral-table td {
      padding: 1rem;
      vertical-align: middle;
    }
    
    .status-badge {
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.875rem;
      font-weight: 500;
    }
    
    .status-paid {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
    }
    
    .status-pending {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning);
    }
    
    .no-referrals {
      background: white;
      border-radius: 12px;
      padding: 3rem;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .help-section {
      background: linear-gradient(135deg, #F0F9FF 0%, #EFF6FF 100%);
      border-radius: 16px;
    }
    
    @media (max-width: 768px) {
      .referral-hero {
        border-radius: 0;
      }
      
      .stat-value {
        font-size: 2rem;
      }
    }
    @media (max-width: 768px) {
  /* Hero Section */
  .referral-hero {
    padding: 2rem 0;
    border-radius: 0;
  }
  
  .referral-hero h1 {
    font-size: 2rem;
  }
  
  .referral-hero .lead {
    font-size: 1.1rem;
  }
  
  /* Referral Link Box */
  .referral-hero .col-lg-6 {
    padding: 1.5rem;
  }
  
  .copy-link {
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .copy-link input {
    width: 100%;
    text-align: center;
    padding: 0.5rem;
  }
  
  .copy-btn {
    width: 100%;
  }
  
  /* Quick Share Buttons */
  .d-flex.gap-2 {
    flex-wrap: wrap;
    justify-content: center;
  }
  
  /* Rewards Section */
  .col-md-4 {
    margin-bottom: 1rem;
  }
  
  .referral-card {
    margin-bottom: 1rem;
  }
  
  /* How It Works */
  .referral-steps {
    padding: 1.5rem !important;
  }
  
  .referral-step {
    padding-left: 2rem;
  }
  
  .step-number {
    width: 1.75rem;
    height: 1.75rem;
    font-size: 0.875rem;
  }
  
  /* Your Referrals */
  .d-flex.justify-content-between.align-items-center {
    flex-direction: column;
    align-items: flex-start !important;
  }
  
  .d-flex.align-items-center {
    margin-top: 1rem;
  }
  
  /* Table */
  .referral-table {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  .referral-table table {
    font-size: 0.875rem;
  }
  
  .referral-table th, 
  .referral-table td {
    padding: 0.75rem;
    white-space: nowrap;
  }
  
  /* No Referrals */
  .no-referrals {
    padding: 2rem 1rem !important;
  }
  
  /* Help Section */
  .help-section {
    padding: 2rem 0 !important;
  }
  
  .help-section .btn-lg {
    padding: 0.5rem 1rem;
    font-size: 1rem;
  }
  
  /* General Typography */
  h1, .h1 {
    font-size: 1.75rem;
  }
  
  h2, .h2 {
    font-size: 1.5rem;
  }
  
  h3, .h3 {
    font-size: 1.25rem;
  }
  
  .lead {
    font-size: 1rem;
  }
  
  /* Stats */
  .stat-value {
    font-size: 1.75rem;
  }
}

/* Extra small devices (phones, 576px and down) */
@media (max-width: 576px) {
  /* Step numbers */
  .step-number {
    width: 1.5rem;
    height: 1.5rem;
    font-size: 0.75rem;
  }
  
  /* Buttons */
  .btn-lg {
    padding: 0.5rem 1rem;
    font-size: 1rem;
  }
  
  /* Table cells */
  .referral-table td {
    padding: 0.5rem;
  }
  
  /* Status badges */
  .status-badge {
    padding: 0.2rem 0.5rem;
    font-size: 0.75rem;
  }
  
  /* Quick share buttons */
  .btn-outline-primary {
    padding: 0.25rem 0.5rem;
    font-size: 0.875rem;
  }
  
  /* Section padding */
  section {
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }
  
  .mb-6 {
    margin-bottom: 3rem !important;
  }
}
  </style>
</head>

<body class="bg-gray-100">

  <!-- Header remains unchanged -->
  <header id="header" class="header d-flex align-items-center sticky-top">
    <!-- Your existing header code -->
     <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <a href="/home" class="logo d-flex align-items-center me-auto">
        <img src="{% static 'assets/img/logo.png' %}" alt="">
        <h1 class="sitename">liGo</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="/home" class="active">Home<br></a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/courses">Courses</a></li>
          <li><a href="/my_learning">My Learning</a></li>
          <li><a href="/referrals">Referrals</a></li>
          <li><a href="/chatwithus">Chat with us</a></li>
          <li><a href="/contact">Contact</a></li>
          <li class="dropdown"><a href="/profile"><span>Profile</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
                  <li><a href="/login">Login</a></li>
                  <li><a href="/signup">SignUp</a></li>
              </li>
            </ul>
          </li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>
    </div>
  </header>

  <main class="main">
    <!-- Hero Section -->
    <section class="referral-hero py-8 py-lg-10 mb-5">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6 mb-5 mb-lg-0">
            <h1 class="display-5 fw-bold mb-4">Earn With EliGo</h1>
            <p class="lead mb-4">Refer friends and earn up to ₹1500 in rewards when they enroll in our programs!</p>
            <div class="d-flex flex-wrap gap-3">
              <a href="#how-it-works" class="btn btn-light btn-lg px-4">How It Works</a>
              <a href="#your-referrals" class="btn btn-outline-light btn-lg px-4">Your Referrals</a>
            </div>
          </div>
          <div class="col-lg-6">
  <div class="p-4 p-lg-5 bg-white rounded-3 shadow-sm">
    <h3 class="h4 mb-4">Your Referral Link</h3>
    <div class="copy-link mb-3">
      <input type="text" id="referral-link" value="https://forms.gle/6nVHgKit2oo5WgnR6" readonly>
      <button class="copy-btn" onclick="copyReferralLink()">
        <i class="bi bi-clipboard"></i> Copy
      </button>
    </div>
    <p class="small text-muted">Share this link with friends to start earning rewards</p>
    
    <div class="mt-4 pt-3 border-top">
      <h4 class="h5 mb-3">Quick Share</h4>
      <div class="d-flex gap-2">
        <!-- WhatsApp -->
        <a href="https://wa.me/?text=https://forms.gle/6nVHgKit2oo5WgnR6" 
           class="btn btn-outline-primary" target="_blank">
          <i class="bi bi-whatsapp"></i> WhatsApp
        </a>

        <!-- Facebook -->
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://forms.gle/6nVHgKit2oo5WgnR6" 
           class="btn btn-outline-primary" target="_blank">
          <i class="bi bi-facebook"></i> Facebook
        </a>

        <!-- Email -->
        <a href="mailto:?subject=Join%20EliGo&body=Check%20this%20out:%20https://forms.gle/6nVHgKit2oo5WgnR6" 
           class="btn btn-outline-primary">
          <i class="bi bi-envelope"></i> Email
        </a>
      </div>
    </div>
  </div>
</div>
        </div>
      </div>
    </section>

    <!-- Rewards Section -->
    <section class="container mb-6">
      <div class="row g-4">
        <div class="col-md-4">
          <div class="referral-card card h-100 border-0 shadow-sm">
            <div class="card-body text-center p-4">
              <div class="bg-primary bg-opacity-10 text-primary rounded-circle p-3 d-inline-flex mb-3">
                <i class="bi bi-people-fill fs-2"></i>
              </div>
              <h3 class="h5 mb-3">Refer 3 Friends</h3>
              <p class="mb-0">Earn ₹500 when 3 friends enroll using your link</p>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="referral-card card h-100 border-0 shadow-sm">
            <div class="card-body text-center p-4">
              <div class="bg-success bg-opacity-10 text-success rounded-circle p-3 d-inline-flex mb-3">
                <i class="bi bi-currency-rupee fs-2"></i>
              </div>
              <h3 class="h5 mb-3">Earn Up To ₹1500</h3>
              <p class="mb-0">Maximum earnings potential from referrals</p>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="referral-card card h-100 border-0 shadow-sm">
            <div class="card-body text-center p-4">
              <div class="bg-warning bg-opacity-10 text-warning rounded-circle p-3 d-inline-flex mb-3">
                <i class="bi bi-lightning-charge-fill fs-2"></i>
              </div>
              <h3 class="h5 mb-3">Instant Payouts</h3>
              <p class="mb-0">Rewards credited within 24 hours of enrollment</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- How It Works -->
    <section id="how-it-works" class="container mb-6">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <div class="text-center mb-5">
            <h2 class="h1 mb-3">How It Works</h2>
            <p class="lead text-muted">Follow these simple steps to start earning</p>
          </div>
          
          <div class="referral-steps p-4 p-lg-5">
            <div class="referral-step mb-5 pb-4">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3 class="h4 mb-3">Share Your Referral Link</h3>
                <p class="mb-0">Copy your unique referral link above and share it with friends via WhatsApp, email, or social media.</p>
              </div>
            </div>
            
            <div class="referral-step mb-5 pb-4">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3 class="h4 mb-3">Friends Complete Enrollment</h3>
                <p class="mb-0">Your friends click the link and complete the enrollment form at: <strong>https://forms.gle/6nVHgKit2oo5WgnR6</strong></p>
              </div>
            </div>
            
            <div class="referral-step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3 class="h4 mb-3">You Earn Rewards</h3>
                <p class="mb-0">Once they enroll and make payment, you'll receive ₹500 for every 3 successful referrals, up to ₹1500 total.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Your Referrals -->
    <section id="your-referrals" class="container mb-6">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="h1">Your Referrals</h2>
        <div class="d-flex align-items-center">
          <span class="me-3">Total Earnings:</span>
          <span class="fs-3 fw-bold text-primary">₹{{ profile.earnings|default:"0" }}</span>
        </div>
      </div>
      
      {% if members %}
        <div class="referral-table table-responsive">
          <table class="table table-hover align-middle">
            <thead>
              <tr>
                <th>S. No.</th>
                <th>Referral</th>
                <th>Domain</th>
                <th>Payment ID</th>
                <th>Payment Status</th>
              </tr>
            </thead>
            <tbody>
              {% for member in members %}
                <tr>
                  <td>{{ forloop.counter }}</td>
                  <td>{{ member.referral }}</td>
                  <td>{{ member.domain }}</td>
                  <td>{{ member.payment_id }}</td>
                  <td>
                    <span class="status-badge status-{{ member.payment_status|lower }}">
                      {{ member.payment_status }}
                    </span>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% else %}
        <div class="no-referrals">
          <div class="mb-4">
            <i class="bi bi-people text-muted" style="font-size: 3rem;"></i>
          </div>
          <h3 class="h4 mb-3">No Referrals Yet</h3>
          <p class="text-muted mb-4">Start sharing your referral link to earn rewards</p>
          <a href="#" class="btn btn-primary" onclick="copyReferralLink()">
            <i class="bi bi-share me-2"></i> Share Your Link
          </a>
        </div>
      {% endif %}
    </section>

    <!-- Need Help Section -->
    <section class="help-section py-6 mb-6">
      <div class="container text-center">
        <h2 class="h1 mb-4">Need Help?</h2>
        <p class="lead text-muted mb-5">Our support team is here to answer any questions about the referral program</p>
        <a href="/needhelp" class="btn btn-primary btn-lg px-5">
          <i class="bi bi-headset me-2"></i> Contact Support
        </a>
      </div>
    </section>
  </main>

  <!-- Footer remains unchanged -->
  <footer id="footer" class="footer position-relative light-background">
    <!-- Your existing footer code -->
    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="/home" class="logo d-flex align-items-center">
            <span class="sitename">EliGo</span>
          </a>
          <div class="footer-contact pt-3">
            <p>Noval Tech,HSR Layout</p>
            <p>Bengalore, Pin - 560102</p>
            <p class="mt-3"><strong>Phone:</strong> <span>+91 78424 39551</span></p>
            <p><strong>Email:</strong> <span>eligorenderforest@gmail.com</span></p>
          </div>
    
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><a href="/home">Home</a></li>
            <li><a href="/about">About us</a></li>
            <li><a href="/courses">Services</a></li>
            <li><a href="/sponsorship">Sponsorship</a></li>
            <li><a href="/privacypolicy">Privacy policy</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Our Services</h4>
          <ul>
            <li><a href="/courses">Web Design</a></li>
            <li><a href="/courses">Web Development</a></li>
            <li><a href="/courses">Product Management</a></li>
            <li><a href="/courses">Marketing</a></li>
            <li><a href="/courses">Graphic Design</a></li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-12 footer-newsletter">
          <h4>Our Newsletter</h4>
          <p>Subscribe to our newsletter and receive the latest news about our products and services!</p>
          <form action="forms/newsletter.php" method="post" class="php-email-form">
            <div class="newsletter-form"><input type="email" name="email"><input type="submit" value="Subscribe"></div>
            <div class="loading">Loading</div>
            <div class="error-message"></div>
            <div class="sent-message">Your subscription request has been sent. Thank you!</div>
          </form>
        </div>

      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1 sitename">Eligo</strong> <span>All Rights Reserved</span></p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
  <script>
    // Initialize AOS animations
    AOS.init({
      duration: 800,
      easing: 'ease-in-out'
    });
    
    // Copy referral link function
    function copyReferralLink() {
      const linkInput = document.getElementById('referral-link');
      linkInput.select();
      document.execCommand('copy');
      
      // Show tooltip or toast notification
      const originalText = event.target.innerHTML;
      event.target.innerHTML = '<i class="bi bi-check"></i> Copied!';
      
      setTimeout(() => {
        event.target.innerHTML = originalText;
      }, 2000);
    }
    
    // Initialize tooltips
    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl);
    });
  </script>
</body>
</html>